<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="robots" content="noindex,nofollow,noarchive">
    <title>4Iポータル@技術</title>
    <style>
        body {
            font-family: system-ui;
        }

        #backToTop {
            position: fixed;
            bottom: 4%;
            right: 3%;
            padding: 10px 15px;
            background: #FFA7DD;
            color: black;
            text-decoration: none;
            border-radius: 5px;
            font-size: 14px;
        }

        #backToTop:hover {
            background: #ff85c1;
        }

        section {
            text-align: center;
        }

        .major-links {
            margin: 0 1rem;
        }

        table {
            width: 100%;
            text-align: center;
            border: 2px solid black;
            border-spacing: 0;
        }

        th,
        td {
            border: 1px solid lightslategray;
        }

        ul {
            text-align: center;
            list-style-type: none;
            padding: 0;
        }
    </style>
</head>

<body>
    <a href="./tech.html" id="backToTop">技術トップへ戻る</a>

    <section>
        <h2>-- Vim実践への道 --</h2>
        <p>このファイルはVim/Neovimがあなたの常用<u>コードエディタ</u>となることをサポートするためのhtmlファイルであり、あなたがプログラマとして、作業を行うための<u>実践的なモノのみ</u>を掲載している。<br>
            "Vim大百科事典"のように"不必要な"コマンドすら掲載しているわけではない。<br>
            <strong>Vim/Neovim</strong>は<strong>モーダルエディタ</strong>に分類される<strong>テキストエディタ</strong>
            で主に以下<strong>四つのモード</strong>を行き来する。<br>
            <strong>
                <span style="color: deepskyblue;">Normal Mode</span>,
                <span style="color: limegreen;">Insert Mode</span>,
                <span style="color: mediumpurple;">Command-line mode</span>,
                <span style="color: orange;">Visual Mode</span>
            </strong><br>
            さらに、多くを語るとするなら、<code>:q!</code>と書いてあるなら<strong>文字通り</strong>:q!と打つべきである。<br>
            <em>それでは、Vimと共にあらんことを</em>
        </p>

        <h3 style="margin-bottom: 0; line-height: 1.2;">ノーマルモード</h3>
        <p style="margin-top: 0; line-height: 1.5;">
            オフィスに鳴り響く電話、コピー機そしてキーボードの音。<br>
            そっと、ショルダーハッキングしてみるとその社員はホームポジションと呼ばれる場所に手を置いているではないか。
            そして、書き出す。書きだしたと思えばまた、定位置へ戻る。<br>
            普通にキーボードで入力を難なくこなせる一般社員であれば必ずキーボードにおけるホームポジションから始まるはずだ。<br>
            これは、Vimmerにも同じことがいえる。<br>
            Normal Mode、これはVimにおけるホームポジションであり、これから説明するコマンドたちにとってそれは<strong>全ての原点</strong>なのだ。<br>
            一般Vimmerなら必ず始まりと終わりはここにいなければならない。そうでないなら、それはもはや「一本指打法」と同じくらい作法の悪い振る舞いであり、目も当てられない。<br>
            さらに、いうならH, J, K, LこれらのキーはVimmerにとって第二のホームポジションと言えるだろう。
        </p>

        <table>
            <thead>
                <tr style="background-color: deepskyblue;">
                    <th>コマンド</th>
                    <th>説明</th>
                    <th>備考</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th style="background-color: lightgray" colspan="3">Locomotions</th>
                </tr>
                </thead>
                <tr>
                    <td><code>Esc</code></td>
                    <td>ノーマルモードに戻る</td>
                    <td>困ったらこれ。気がついたらこれ。呼吸よりもこれ。</td>
                </tr>

                <tr>
                    <td><code>[count]k</code></td>
                    <td>カーソルを上に移動</td>
                    <td>[count]というのは基本、正の整数回繰り返すを意味し、<br>
                        <code>4j</code>と打てば四行目下に移動する。<br>
                        ちなみに、[]で囲まれたものはoptionalであり、<br>
                        これから、登場する大多数のコマンドで利用可能なものである。
                    </td>
                </tr>
                <tr>
                    <td><code>[count]j</code></td>
                    <td>カーソルを下に移動</td>
                </tr>
                <tr>
                    <td><code>[count]h</code></td>
                    <td>カーソルを左に移動</td>
                </tr>
                <tr>
                    <td><code>[count]l</code></td>
                    <td>カーソルを右に移動</td>
                </tr>

                <tr>
                    <td><code>[count]w</code></td>
                    <td>次の単語の先頭に移動 (word)</td>
                    <td><code>:h word</code>で詳細を見れる。</td>
                </tr>
                <tr>
                    <td><code>[count]W</code></td>
                    <td>記号を無視してスペース区切りで移動する</td>
                    <td>Wはshift+wを表す</td>
                </tr>
                <tr>
                    <td><code>[count]b</code></td>
                    <td>前の単語の先頭に移動</td>
                </tr>
                <tr>
                    <td><code>[count]B</code></td>
                    <td>記号を無視してスペース区切りで戻る</td>
                </tr>
                <tr>
                    <td><code>[count]e</code></td>
                    <td>単語の末尾に移動</td>
                </tr>
                <tr>
                    <td><code>[count]E</code></td>
                    <td>記号を無視してスペース区切りの最後へ移動</td>
                </tr>

                <tr>
                    <td><code>0</code></td>
                    <td>カーソルの横座標を0列目へ移動</td>
                    <td>数字のzeroであってアルファベットに属するoではない</td>
                </tr>
                <tr>
                    <td><code>$</code></td>
                    <td>カーソルの横座標を最終列目へ移動</td>
                </tr>

                <tr>
                    <td><code>^</code></td>
                    <td>行の最初の空白以外の文字に移動</td>
                    <td>pythonのようなインデントされたコードでは <code>0</code> よりもこちらを多用する</td>
                </tr>
                <tr>
                    <td><code>[count]+</code></td>
                    <td>次の行の行頭（最初の非空白文字）へ移動</td>
                    <td><code>j</code> 押して <code>^</code> 押すのと同じ。Enterキーでも同じ挙動をする。</td>
                </tr>
                <tr>
                    <td><code>[count]-</code></td>
                    <td>前の行の行頭（最初の非空白文字）へ移動</td>
                    <td><code>k</code> 押して <code>^</code> 押すのと同じ。</td>
                </tr>

                <tr>
                    <td><code>%</code></td>
                    <td>対応する括弧に移動 <code>()</code> <code>[]</code> <code>{}</code></td>
                    <td>ちなみに、全く役立たないが<code>60%</code>と入力するとそのファイルの60%の行目に移動する。
                    </td>
                </tr>

                <tr>
                    <th style="background-color: lightgray" colspan="3">Jump Motions</th>
                </tr>
                <tr>
                    <td><code>gg</code></td>
                    <td>カーソルの縦座標をファイルの一行目へ移動</td>
                    <td><code>10gg</code>と打てば10行目に移動する。<code>:10</code>でも同じ。</td>
                </tr>
                <tr>
                    <td><code>G</code></td>
                    <td>カーソルの縦座標をファイルの最終行へ移動</td>
                    <td><code>10G</code>と打てば10行目に移動する</td>
                </tr>
                <tr>
                    <td><code>gd</code></td>
                    <td>定義へ移動 (Go Definition)</td>
                    <td>標準では「ファイル内の宣言場所」へ飛ぶだけだが、<br>
                        プラグインを入れると「別ファイルの定義元」へ飛べるようになるのがデファクトスタンダード</td>
                </tr>
                <tr>
                    <td><code>gr</code></td>
                    <td>参照一覧を表示・移動 (Go References)</td>
                    <td>標準機能ではない（標準の<code>gr</code>は無効または別機能）。<br>
                        環境では「その変数が使われている場所」を一覧表示するキーとして定着している</td>
                </tr>
                <tr>
                    <td><code>gf</code></td>
                    <td>カーソル下のファイル名を開く (Go File)</td>
                    <td><code>include "header.h"</code> のファイル名の上で押すと、そのファイルに飛べる。<br>
                        パスが正しければ標準機能で動く</td>
                </tr>
                <tr>
                    <td><code>[count]{</code></td>
                    <td>パラグラフの始まりの一行外側に移動する</td>
                    <td>パラグラフ(paragraph)について知りたいなら<code>:h paragraph</code></td>
                </tr>
                <tr>
                    <td><code>[count]}</code></td>
                    <td>パラグラフの終わり一行外側に移動する</td>
                    <td></td>
                </tr>

                <tr>
                    <td><code>[count]^o</code></td>
                    <td>ひとつ前のジャンプ位置に戻る</td>
                    <td>大きな動きに対して有効。h,j,k,lのような動きでは記録されない</td>
                </tr>
                <tr>
                    <td><code>[count]^iまたは&lt;Tab&gt;</code></td>
                    <td>ひとつ後のジャンプ位置へ移動する</td>
                    <td>^o, ^iについて詳しく知りたいなら<code>:h jump-motions</code>とタイプしてみよう。</td>
                </tr>

                <tr>
                    <td><code>[count]g;</code></td>
                    <td>最後に<strong>編集した</strong>場所へ移動</td>
                    <td><code>^o</code> (ジャンプリスト) と違い、「編集」した場所だけを辿れる。超便利。</td>
                </tr>
                <tr>
                    <td><code>[count]g,</code></td>
                    <td>編集箇所の履歴を順方向に辿る</td>
                </tr>

                <tr>
                    <th style="background-color: lightgray" colspan="3">Search and Jump</th>
                </tr>
                <tr>
                    <td><code>[count]f{char}</code></td>
                    <td> カーソル位置をカーソル位置から右側以降で見つかった最初の{char}に移動する</td>
                    <td>{char}とは文字列を意味し、[]と違いoptionalではない。<br>
                        <code>ff</code> と打てばカーソルより右の最初の'f'へカーソル位置が動く。
                    </td>
                </tr>
                <tr>
                    <td><code>[count]F{char}</code></td>
                    <td>カーソル位置をカーソル位置から左側以降で見つかった最初の{char}に移動する</td>
                    <td><code>[count]Ff</code> と打てばカーソルより左の最初の'f'へカーソル位置が動く。</td>
                </tr>
                <tr>
                    <td><code>[count]t{char}</code></td>
                    <td>カーソル位置をカーソル位置から右側以降で見つかった最初の{char}の左側に移動する</td>
                </tr>
                <tr>
                    <td><code>[count]T{char}</code></td>
                    <td>カーソル位置をカーソル位置から左側以降で見つかった最初の{char}の右側に移動する</td>
                </tr>
                <tr>
                    <td><code>[count];</code></td>
                    <td>直前の <code>f, t, F, T</code> の検索を繰り返す</td>
                </tr>
                <tr>
                    <td><code>[count],</code></td>
                    <td>直前の <code>f, t, F, T</code> の検索を<strong>逆方向に</strong>繰り返す</td>
                </tr>

                <tr>
                    <td><code>/{pattern}</code></td>
                    <td>文字列 {pattern} を前方検索する</td>
                    <td>検索後に <code>Enter</code> で確定。正規表現も使える。<br>
                        <code>/Make each program do one thing well.</code>と打てば<br>
                        Make each program do one thing well.という文字列へ移動するはずです。
                    </td>
                </tr>
                <tr>
                    <td><code>?{pattern}</code></td>
                    <td>文字列 {pattern} を後方検索する</td>
                    <td></td>
                </tr>
                <tr>
                    <td><code>[count]*</code></td>
                    <td>カーソル下の単語を前方検索する</td>
                    <td><strong>超便利。</strong>変数名の上で押せば、次に出てくる同じ変数の場所に飛べる。</td>
                </tr>
                <tr>
                    <td><code>[count]#</code></td>
                    <td>カーソル下の単語を後方検索する</td>
                    <td><code>*</code> の逆方向</td>
                </tr>
                <tr>
                    <td><code>[count]n</code></td>
                    <td>次の検索結果へ移動 (next)</td>
                    <td><code>/</code> の後は下方向、<code>?</code> の後は上方向に進む</td>
                </tr>
                <tr>
                    <td><code>[count]N</code></td>
                    <td>前の検索結果へ移動</td>
                    <td><code>n</code> の逆方向</td>
                </tr>

                <tr>
                    <th style="background-color: lightgray" colspan="3">Edit</th>
                </tr>

                <tr>
                    <td><code>["x][count]y{motion}</code></td>
                    <td>今のカーソル位置の行をヤンク<br>
                        最も慣れ親しんだいい方で言うならコピー
                    </td>
                    <td> <code>2yj</code>または<code>y2j</code>と打てばカーソル行含む下二行がヤンクされる<br>
                        <code>2y}</code>と打てば下にある2個のパラグラフがヤンクされる。<br>
                        レジスタと組み合わせるともっと便利だが余白（以下略）
                    </td>
                </tr>
                <tr>
                    <td><code>["x][count]yy</code></td>
                    <td>今のカーソル位置の行を削除</td>
                </tr>

                <tr>
                    <td><code>["x][count]x</code></td>
                    <td>今のカーソル位置の文字を削除</td>
                    <td>いろいろ意味不明な記号が出てきたが臆することは無い。<br>
                        <code>3x</code>と押せば三文字消える。<br>
                        <code>["x]</code>はレジスタだがこの余白は説明を書くには狭すぎる。
                    </td>
                </tr>
                <tr>
                    <td><code>["x][count]X</code></td>
                    <td>今のカーソル位置の前の文字を削除</td>
                    <td></td>
                </tr>
                <tr>
                    <td><code>["x][count]d{motion}</code></td>
                    <td>今のカーソル位置の行を削除 </td>
                    <td> <code>2dj</code>または<code>d2j</code>と打てばカーソル行含む下二行が消える。<br>
                        <code>2d}</code>と打てば下にある2個のパラグラフが消える。
                    </td>
                </tr>
                <tr>
                    <td><code>["x][count]D</code></td>
                    <td>今のカーソル位置より文末までを削除</td>
                </tr>
                <tr>
                    <td><code>["x][count]dd</code></td>
                    <td>今のカーソル位置の行を削除</td>
                </tr>

                <tr>
                    <td><code>["x][count]p</code></td>
                    <td>今のカーソル位置の行から下にペースト </td>
                    <td> レジスタ..余白（以下略） </td>
                </tr>
                <tr>
                    <td><code>["x][count]P</code></td>
                    <td>今のカーソル位置の行から上にペースト </td>
                </tr>

                <tr>
                    <td><code>[count]u</code></td>
                    <td>Undo</td>
                </tr>
                <tr>
                    <td><code>[count]^r</code></td>
                    <td>Redo</td>
                    <td>^rはctrl+rを示す。</td>
                </tr>

                <tr>
                    <th style="background-color: lightgray" colspan="3">Window Fix</th>
                </tr>
                <tr>
                    <td><code>H</code> / <code>M</code> / <code>L</code></td>
                    <td>今見えてる画面内の 最上部(High) / 中央(Middle) / 最下部(Low) に移動</td>
                    <td>しばしば、プラグインによって上書きされている</td>
                </tr>
                <tr>
                    <td><code>zz</code></td>
                    <td>カーソル行を画面中央へ</td>
                </tr>
                <tr>
                    <td><code>zt</code></td>
                    <td>カーソル行が<strong>画面の一番上</strong>に来るようにスクロール (Top)</td>
                </tr>
                <tr>
                    <td><code>zb</code></td>
                    <td>カーソル行が<strong>画面の一番下</strong>に来るようにスクロール (Bottom)</td>
                </tr>
                <tr>
                    <td><code>^u</code></td>
                    <td>半画面分、上へスクロール (Up)</td>
                    <td><code>^b</code> (Back / 1画面戻る) よりも文脈を見失いにくいので好まれる傾向がある</td>
                </tr>
                <tr>
                    <td><code>^d</code></td>
                    <td>半画面分、下へスクロール (Down)</td>
                    <td><code>^f</code> (Forward / 1画面進む) よりも好まれる</td>
                </tr>

                <tr>
                    <th style="background-color: lightgray" colspan="3">Mark-motions</th>
                </tr>
                <tr>
                    <td><code>m{a-z}</code></td>
                    <td>現在のカーソル位置をマーク {a-z} に記録する</td>
                    <td><code>ma</code> と打てば、現在地が 'a' に登録される</td>
                </tr>
                <tr>
                    <td><code>'{a-z}</code></td>
                    <td>マーク {a-z} をつけた行の行頭へ移動する</td>
                    <td><code>'a</code> でマーク a の行へ戻る（シングルクォート）</td>
                </tr>
                <tr>
                    <td><code>`{a-z}</code></td>
                    <td>マーク {a-z} をつけた<strong>正確な位置（列含む）</strong>へ移動する</td>
                    <td>バッククォート。行頭ではなくピンポイントに戻りたい時に使う</td>
                </tr>
            </tbody>
        </table>

        <h3 style="margin-bottom: 0; line-height: 1.2;">インサートモード</h3>
        <p style="margin-top: 0; line-height: 1.5;">
            かつて、主張してはならない学説が存在した。それを一度主張してしまえば異端と言われ魔女と言われ―<br>
            そんな中、生き残った男がいた―その名はガリレオ・ガリレイ。<br>
            彼は、一般庶民も読めるイタリア語で挑発的な本を出版し、 聖書の解釈にまで口を出した。<br>
            その結果、1616年に地動説は正式に「異端」とされ、裁判にかけられてしまう―<br>
            しかしあなたが知る通り、現代では「地球は回っている」と習うだろう。そう、世界は"変わった"のだ。<br>
            ....しばしば、Vimmerにとって"世界を編集"するためにはインサートモードである必要がある。
        </p>

        <table>
            <thead>
                <tr style="background-color: limegreen;">
                    <th>コマンド</th>
                    <th>説明</th>
                    <th>備考</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td><code>[count]i</code></td>
                    <td>今のカーソル位置でインサートモード</td>
                </tr>
                <tr>
                    <td><code>[count]I</code></td>
                    <td>今のカーソル位置の文字列の行頭からインサートモードに入る</td>
                </tr>
                <tr>
                    <td><code>[count]a</code></td>
                    <td>今のカーソル位置の一つ右からインサートモード</td>
                </tr>
                <tr>
                    <td><code>[count]A</code></td>
                    <td>今のカーソル位置の文字列の行末からインサートモードに入る</td>
                </tr>

                <tr>
                    <td><code>[count]o</code></td>
                    <td>今のカーソル位置の下に新しい行を作ってインサートモード</td>
                    <td><code>3o</code>を入力後,stringと入力し,<code>&lt;ESC&gt;</code>を押すと下に三行現れる。<br>
                        しかし、奇妙なことに<code>&lt;Ctrl-c&gt;</code>を押すと<br>
                        三行追加はキャンセルされ既に表れている文字列のみが残る。
                    </td>
                </tr>
                <tr>
                    <td><code>[count]O</code></td>
                    <td>今のカーソル位置の上に新しい行を作ってインサートモード</td>
                </tr>

                <tr>
                    <td><code>[count]r{char}</code></td>
                    <td>現在のカーソル位置の文字を{char}で置き換える</td>
                    <td>sコマンドが存在するがrで代用できる</td>
                </tr>
                <tr>
                    <td><code>[count]R</code></td>
                    <td>現在のカーソル位置からReplace Modeへ入る</td>
                    <td>何を隠そう、Replace modeの登場だがモード名は覚えなくてよく、<br>
                        <code>RGNU's Not Unix!</code>と打てば現在のカーソル位置から右にある文字列が<br>
                        GNU's Not Unix!に置き換わる。
                    </td>
                </tr>

                <tr>
                    <td><code>[count]c{motion}</code></td>
                    <td>現在のカーソル位置から{motion}で移動した範囲を消してインサートモードに入る</td>
                </tr>
                <tr>
                    <td><code>[count]cc</code></td>
                    <td>現在のカーソル行を消してインサートモードに入る</td>
                </tr>
                <tr>
                    <td><code>[count]C</code></td>
                    <td>現在のカーソル位置から右側を消してインサートモードに入る</td>
                    <td><code>2C</code>と打てばカーソル行含む下に二行が消えてインサートモードになる</td>
                </tr>


            </tbody>
        </table>

    </section>
</body>

</html>
